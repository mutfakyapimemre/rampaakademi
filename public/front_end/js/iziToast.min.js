!function(a,b){"function"==typeof define&&define.amd?define([],b(a)):"object"==typeof exports?module.exports=b(a):a.iziToast=b(a)}("undefined"==typeof global?window||this.window||this.global:global,function(){"use strict";var d={},j=(document.querySelector("body"),!!/Mobi/.test(navigator.userAgent)),k=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor),i="undefined"!=typeof InstallTrigger,l="ontouchstart"in document.documentElement,a=["bottomRight","bottomLeft","bottomCenter","topRight","topLeft","topCenter","center"],o={};d.children={};var e={id:null,class:"",title:"",titleColor:"",titleSize:"",titleLineHeight:"",message:"",messageColor:"",messageSize:"",messageLineHeight:"",backgroundColor:"",theme:"light",color:"",icon:"",iconText:"",iconColor:"",iconUrl:null,image:"",imageWidth:50,maxWidth:null,zindex:null,layout:1,balloon:!1,close:!0,closeOnEscape:!1,closeOnClick:!1,displayMode:0,position:"topCenter",target:"",targetFirst:!0,timeout:5e3,rtl:!1,animateInside:!0,drag:!0,pauseOnHover:!0,resetOnHover:!1,progressBar:!0,progressBarColor:"",progressBarEasing:"linear",overlay:!1,overlayClose:!1,overlayColor:"rgba(0, 0, 0, 0.6)",transitionIn:"fadeInUp",transitionOut:"fadeOut",transitionInMobile:"fadeInUp",transitionOutMobile:"fadeOutDown",buttons:{},inputs:{},onOpening:function(){},onOpened:function(){},onClosing:function(){},onClosed:function(){}};if("remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),"function"!=typeof window.CustomEvent){var n=function(a,b){b=b||{bubbles:!1,cancelable:!1,detail:void 0};var c=document.createEvent("CustomEvent");return c.initCustomEvent(a,b.bubbles,b.cancelable,b.detail),c};n.prototype=window.Event.prototype,window.CustomEvent=n}var q=function(a,b,c){if("[object Object]"===Object.prototype.toString.call(a))for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&b.call(c,a[d],d,a);else if(a)for(var e=0,f=a.length;f>e;e++)b.call(c,a[e],e,a)},m=function(a,b){var c={};return q(a,function(b,d){c[d]=a[d]}),q(b,function(a,d){c[d]=b[d]}),c},g=function(a){var b=document.createDocumentFragment(),c=document.createElement("div");for(c.innerHTML=a;c.firstChild;)b.appendChild(c.firstChild);return b},f=function(a){var b=btoa(encodeURIComponent(a));return b.replace(/=/g,"")},r=function(a){return"#"==a.substring(0,1)||"rgb"==a.substring(0,3)||"hsl"==a.substring(0,3)},t=function(a){try{return btoa(atob(a))==a}catch(a){return!1}},h=function(){return{move:function(b,c,d,e){var a,f=.3;0!==e&&(b.classList.add("iziToast-dragged"),b.style.transform="translateX("+e+"px)",0<e?(a=(180-e)/180,f>a&&c.hide(m(d,{transitionOut:"fadeOutRight",transitionOutMobile:"fadeOutRight"}),b,"drag")):(a=(180+e)/180,f>a&&c.hide(m(d,{transitionOut:"fadeOutLeft",transitionOutMobile:"fadeOutLeft"}),b,"drag")),b.style.opacity=a,f>a&&((k||i)&&(b.style.left=e+"px"),b.parentNode.style.opacity=f,this.stopMoving(b,null)))},startMoving:function(a,b,c,d){d=d||window.event;var e=l?d.touches[0].clientX:d.clientX,f=a.style.transform.replace("px)","");f=f.replace("translateX(","");var g=e-f;c.transitionIn&&a.classList.remove(c.transitionIn),c.transitionInMobile&&a.classList.remove(c.transitionInMobile),a.style.transition="",l?document.ontouchmove=function(d){d.preventDefault(),d=d||window.event;var e=d.touches[0].clientX;h.move(a,b,c,e-g)}:document.onmousemove=function(d){d.preventDefault(),d=d||window.event;var e=d.clientX;h.move(a,b,c,e-g)}},stopMoving:function(a){l?document.ontouchmove=function(){}:document.onmousemove=function(){},a.style.opacity="",a.style.transform="",a.classList.contains("iziToast-dragged")&&(a.classList.remove("iziToast-dragged"),a.style.transition="transform 0.4s ease, opacity 0.4s ease",setTimeout(function(){a.style.transition=""},400))}}}();return d.setSetting=function(a,b,c){d.children[a][b]=c},d.getSetting=function(a,b){return d.children[a][b]},d.destroy=function(){q(document.querySelectorAll(".iziToast-overlay"),function(a){a.remove()}),q(document.querySelectorAll(".iziToast-wrapper"),function(a){a.remove()}),q(document.querySelectorAll(".iziToast"),function(a){a.remove()}),this.children={},document.removeEventListener("iziToast-opened",{},!1),document.removeEventListener("iziToast-opening",{},!1),document.removeEventListener("iziToast-closing",{},!1),document.removeEventListener("iziToast-closed",{},!1),document.removeEventListener("keyup",{},!1),o={}},d.settings=function(a){d.destroy(),o=a,e=m(e,a||{})},q({info:{color:"blue",icon:"ico-info"},success:{color:"green",icon:"ico-success"},warning:{color:"orange",icon:"ico-warning"},error:{color:"red",icon:"ico-error"},question:{color:"yellow",icon:"ico-question"}},function(a,b){d[b]=function(b){var c=m(o,b||{});c=m(a,c||{}),this.show(c)}}),d.progress=function(b,c,d){var e=this,f=c.getAttribute("data-iziToast-ref"),g=m(this.children[f],b||{}),a=c.querySelector(".iziToast-progressbar div");return{start:function(){"undefined"==typeof g.time.REMAINING&&(c.classList.remove("iziToast-reseted"),null!==a&&(a.style.transition="width "+g.timeout+"ms "+g.progressBarEasing,a.style.width="0%"),g.time.START=new Date().getTime(),g.time.END=g.time.START+g.timeout,g.time.TIMER=setTimeout(function(){clearTimeout(g.time.TIMER),c.classList.contains("iziToast-closing")||(e.hide(g,c,"timeout"),"function"==typeof d&&d.apply(e))},g.timeout),e.setSetting(f,"time",g.time))},pause:function(){if("undefined"!=typeof g.time.START&&!c.classList.contains("iziToast-paused")&&!c.classList.contains("iziToast-reseted")){if(c.classList.add("iziToast-paused"),g.time.REMAINING=g.time.END-new Date().getTime(),clearTimeout(g.time.TIMER),e.setSetting(f,"time",g.time),null!==a){var b=window.getComputedStyle(a),h=b.getPropertyValue("width");a.style.transition="none",a.style.width=h}"function"==typeof d&&setTimeout(function(){d.apply(e)},10)}},resume:function(){"undefined"==typeof g.time.REMAINING?this.start():(c.classList.remove("iziToast-paused"),null!==a&&(a.style.transition="width "+g.time.REMAINING+"ms "+g.progressBarEasing,a.style.width="0%"),g.time.END=new Date().getTime()+g.time.REMAINING,g.time.TIMER=setTimeout(function(){clearTimeout(g.time.TIMER),c.classList.contains("iziToast-closing")||(e.hide(g,c,"timeout"),"function"==typeof d&&d.apply(e))},g.time.REMAINING),e.setSetting(f,"time",g.time))},reset:function(){clearTimeout(g.time.TIMER),delete g.time.REMAINING,e.setSetting(f,"time",g.time),c.classList.add("iziToast-reseted"),c.classList.remove("iziToast-paused"),null!==a&&(a.style.transition="none",a.style.width="100%"),"function"==typeof d&&setTimeout(function(){d.apply(e)},10)}}},d.hide=function(b,c,d){"object"!=typeof c&&(c=document.querySelector(c));var f=this,g=m(this.children[c.getAttribute("data-iziToast-ref")],b||{});g.closedBy=d||null,delete g.time.REMAINING,c.classList.add("iziToast-closing"),function(){var a=document.querySelector(".iziToast-overlay");if(null!==a){var b=a.getAttribute("data-iziToast-ref");b=b.split(",");var c=b.indexOf(g.ref+"");-1!==c&&b.splice(c,1),a.setAttribute("data-iziToast-ref",b.join()),0===b.length&&(a.classList.remove("fadeIn"),a.classList.add("fadeOut"),setTimeout(function(){a.remove()},700))}}(),g.transitionIn&&c.classList.remove(g.transitionIn),g.transitionInMobile&&c.classList.remove(g.transitionInMobile),j||window.innerWidth<=568?g.transitionOutMobile&&c.classList.add(g.transitionOutMobile):g.transitionOut&&c.classList.add(g.transitionOut);var a=c.parentNode.offsetHeight;c.parentNode.style.height=a+"px",c.style.pointerEvents="none",(!j||window.innerWidth>568)&&(c.parentNode.style.transitionDelay="0.2s");try{var h=new CustomEvent("iziToast-closing",{detail:g,bubbles:!0,cancelable:!0});document.dispatchEvent(h)}catch(a){console.warn(a)}setTimeout(function(){c.parentNode.style.height="0px",c.parentNode.style.overflow="",setTimeout(function(){delete f.children[g.ref],c.parentNode.remove();try{var a=new CustomEvent("iziToast-closed",{detail:g,bubbles:!0,cancelable:!0});document.dispatchEvent(a)}catch(a){console.warn(a)}"undefined"!=typeof g.onClosed&&g.onClosed.apply(null,[g,c,d])},1e3)},200),"undefined"!=typeof g.onClosing&&g.onClosing.apply(null,[g,c,d])},d.show=function(b){var c=this,i=m(o,b||{});if(i=m(e,i),i.time={},null===i.id&&(i.id=f(i.title+i.message+i.color)),1===i.displayMode||"once"==i.displayMode)try{if(0<document.querySelectorAll(".iziToast#"+i.id).length)return!1}catch(a){console.warn("[iziToast] Could not find an element with this selector: #"+i.id+". Try to set an valid id.")}if(2===i.displayMode||"replace"==i.displayMode)try{q(document.querySelectorAll(".iziToast#"+i.id),function(a){c.hide(i,a,"replaced")})}catch(a){console.warn("[iziToast] Could not find an element with this selector: #"+i.id+". Try to set an valid id.")}i.ref=new Date().getTime()+Math.floor(1e7*Math.random()+1),d.children[i.ref]=i;var k={body:document.querySelector("body"),overlay:document.createElement("div"),toast:document.createElement("div"),toastBody:document.createElement("div"),toastTexts:document.createElement("div"),toastCapsule:document.createElement("div"),cover:document.createElement("div"),buttons:document.createElement("div"),inputs:document.createElement("div"),icon:i.iconUrl?document.createElement("img"):document.createElement("i"),wrapper:null};k.toast.setAttribute("data-iziToast-ref",i.ref),k.toast.appendChild(k.toastBody),k.toastCapsule.appendChild(k.toast),function(){if(k.toast.classList.add("iziToast"),k.toast.classList.add("iziToast-opening"),k.toastCapsule.classList.add("iziToast-capsule"),k.toastBody.classList.add("iziToast-body"),k.toastTexts.classList.add("iziToast-texts"),j||window.innerWidth<=568?i.transitionInMobile&&k.toast.classList.add(i.transitionInMobile):i.transitionIn&&k.toast.classList.add(i.transitionIn),i["class"]){var a=i["class"].split(" ");q(a,function(a){k.toast.classList.add(a)})}i.id&&(k.toast.id=i.id),i.rtl&&(k.toast.classList.add("iziToast-rtl"),k.toast.setAttribute("dir","rtl")),1<i.layout&&k.toast.classList.add("iziToast-layout"+i.layout),i.balloon&&k.toast.classList.add("iziToast-balloon"),i.maxWidth&&(isNaN(i.maxWidth)?k.toast.style.maxWidth=i.maxWidth:k.toast.style.maxWidth=i.maxWidth+"px"),""===i.theme&&"light"===i.theme||k.toast.classList.add("iziToast-theme-"+i.theme),i.color&&(r(i.color)?k.toast.style.background=i.color:k.toast.classList.add("iziToast-color-"+i.color)),i.backgroundColor&&(k.toast.style.background=i.backgroundColor,i.balloon&&(k.toast.style.borderColor=i.backgroundColor))}(),function(){i.image&&(k.cover.classList.add("iziToast-cover"),k.cover.style.width=i.imageWidth+"px",k.cover.style.backgroundImage=t(i.image.replace(/ /g,""))?"url(data:image/png;base64,"+i.image.replace(/ /g,"")+")":"url("+i.image+")",i.rtl?k.toastBody.style.marginRight=i.imageWidth+10+"px":k.toastBody.style.marginLeft=i.imageWidth+10+"px",k.toast.appendChild(k.cover))}(),function(){i.close?(k.buttonClose=document.createElement("button"),k.buttonClose.type="button",k.buttonClose.classList.add("iziToast-close"),k.buttonClose.addEventListener("click",function(a){a.target,c.hide(i,k.toast,"button")}),k.toast.appendChild(k.buttonClose)):i.rtl?k.toast.style.paddingLeft="18px":k.toast.style.paddingRight="18px"}(),function(){i.progressBar&&(k.progressBar=document.createElement("div"),k.progressBarDiv=document.createElement("div"),k.progressBar.classList.add("iziToast-progressbar"),k.progressBarDiv.style.background=i.progressBarColor,k.progressBar.appendChild(k.progressBarDiv),k.toast.appendChild(k.progressBar)),i.timeout&&(i.pauseOnHover&&!i.resetOnHover&&(k.toast.addEventListener("mouseenter",function(){c.progress(i,k.toast).pause()}),k.toast.addEventListener("mouseleave",function(){c.progress(i,k.toast).resume()})),i.resetOnHover&&(k.toast.addEventListener("mouseenter",function(){c.progress(i,k.toast).reset()}),k.toast.addEventListener("mouseleave",function(){c.progress(i,k.toast).start()})))}(),function(){i.iconUrl?(k.icon.setAttribute("class","iziToast-icon"),k.icon.setAttribute("src",i.iconUrl)):i.icon&&(k.icon.setAttribute("class","iziToast-icon "+i.icon),i.iconText&&k.icon.appendChild(document.createTextNode(i.iconText)),i.iconColor&&(k.icon.style.color=i.iconColor)),(i.icon||i.iconUrl)&&(i.rtl?k.toastBody.style.paddingRight="33px":k.toastBody.style.paddingLeft="33px",k.toastBody.appendChild(k.icon))}(),function(){0<i.title.length&&(k.strong=document.createElement("strong"),k.strong.classList.add("iziToast-title"),k.strong.appendChild(g(i.title)),k.toastTexts.appendChild(k.strong),i.titleColor&&(k.strong.style.color=i.titleColor),i.titleSize&&(isNaN(i.titleSize)?k.strong.style.fontSize=i.titleSize:k.strong.style.fontSize=i.titleSize+"px"),i.titleLineHeight&&(isNaN(i.titleSize)?k.strong.style.lineHeight=i.titleLineHeight:k.strong.style.lineHeight=i.titleLineHeight+"px")),0<i.message.length&&(k.p=document.createElement("p"),k.p.classList.add("iziToast-message"),k.p.appendChild(g(i.message)),k.toastTexts.appendChild(k.p),i.messageColor&&(k.p.style.color=i.messageColor),i.messageSize&&(isNaN(i.titleSize)?k.p.style.fontSize=i.messageSize:k.p.style.fontSize=i.messageSize+"px"),i.messageLineHeight&&(isNaN(i.titleSize)?k.p.style.lineHeight=i.messageLineHeight:k.p.style.lineHeight=i.messageLineHeight+"px")),0<i.title.length&&0<i.message.length&&(i.rtl?k.strong.style.marginLeft="10px":2===i.layout||i.rtl||(k.strong.style.marginRight="10px"))}(),k.toastBody.appendChild(k.toastTexts);var p;!function(){0<i.inputs.length&&(k.inputs.classList.add("iziToast-inputs"),q(i.inputs,function(a,b){k.inputs.appendChild(g(a[0])),p=k.inputs.childNodes,p[b].classList.add("iziToast-inputs-child"),a[3]&&setTimeout(function(){p[b].focus()},300),p[b].addEventListener(a[1],function(b){var d=a[2];return d(c,k.toast,this,b)})}),k.toastBody.appendChild(k.inputs))}(),function(){0<i.buttons.length&&(k.buttons.classList.add("iziToast-buttons"),q(i.buttons,function(a,b){k.buttons.appendChild(g(a[0]));var d=k.buttons.childNodes;d[b].classList.add("iziToast-buttons-child"),a[2]&&setTimeout(function(){d[b].focus()},300),d[b].addEventListener("click",function(b){b.preventDefault();var d=a[1];return d(c,k.toast,this,b,p)})})),k.toastBody.appendChild(k.buttons)}(),0<i.message.length&&(0<i.inputs.length||0<i.buttons.length)&&(k.p.style.marginBottom="0"),(0<i.inputs.length||0<i.buttons.length)&&(i.rtl?k.toastTexts.style.marginLeft="10px":k.toastTexts.style.marginRight="10px",0<i.inputs.length&&0<i.buttons.length&&(i.rtl?k.inputs.style.marginLeft="8px":k.inputs.style.marginRight="8px")),function(){k.toastCapsule.style.visibility="hidden",setTimeout(function(){var a=k.toast.offsetHeight,b=k.toast.currentStyle||window.getComputedStyle(k.toast),d=b.marginTop;d=d.split("px"),d=parseInt(d[0]);var e=b.marginBottom;e=e.split("px"),e=parseInt(e[0]),k.toastCapsule.style.visibility="",k.toastCapsule.style.height=a+e+d+"px",setTimeout(function(){k.toastCapsule.style.height="auto",i.target&&(k.toastCapsule.style.overflow="visible")},500),i.timeout&&c.progress(i,k.toast).start()},100)}(),function(){var b=i.position;if(i.target)k.wrapper=document.querySelector(i.target),k.wrapper.classList.add("iziToast-target"),i.targetFirst?k.wrapper.insertBefore(k.toastCapsule,k.wrapper.firstChild):k.wrapper.appendChild(k.toastCapsule);else{if(-1==a.indexOf(i.position))return void console.warn("[iziToast] Incorrect position.\nIt can be \u203A bottomRight,bottomLeft,bottomCenter,topRight,topLeft,topCenter,center");b=j||window.innerWidth<=568?"bottomLeft"==i.position||"bottomRight"==i.position||"bottomCenter"==i.position?"iziToast-wrapper-bottomCenter":"topLeft"==i.position||"topRight"==i.position||"topCenter"==i.position?"iziToast-wrapper-topCenter":"iziToast-wrapper-center":"iziToast-wrapper-"+b,k.wrapper=document.querySelector(".iziToast-wrapper."+b),k.wrapper||(k.wrapper=document.createElement("div"),k.wrapper.classList.add("iziToast-wrapper"),k.wrapper.classList.add(b),document.body.appendChild(k.wrapper)),"topLeft"==i.position||"topCenter"==i.position||"topRight"==i.position?k.wrapper.insertBefore(k.toastCapsule,k.wrapper.firstChild):k.wrapper.appendChild(k.toastCapsule)}isNaN(i.zindex)?console.warn("[iziToast] Invalid zIndex."):k.wrapper.style.zIndex=i.zindex}(),function(){i.overlay&&(null===document.querySelector(".iziToast-overlay.fadeIn")?(k.overlay.classList.add("iziToast-overlay"),k.overlay.classList.add("fadeIn"),k.overlay.style.background=i.overlayColor,k.overlay.setAttribute("data-iziToast-ref",i.ref),isNaN(i.zindex)||null===i.zindex||(k.overlay.style.zIndex=i.zindex-1),document.querySelector("body").appendChild(k.overlay)):(k.overlay=document.querySelector(".iziToast-overlay"),k.overlay.setAttribute("data-iziToast-ref",k.overlay.getAttribute("data-iziToast-ref")+","+i.ref),isNaN(i.zindex)||null===i.zindex||(k.overlay.style.zIndex=i.zindex-1)),i.overlayClose?(k.overlay.removeEventListener("click",{}),k.overlay.addEventListener("click",function(){c.hide(i,k.toast,"overlay")})):k.overlay.removeEventListener("click",{}))}(),function(){if(i.animateInside){k.toast.classList.add("iziToast-animateInside");var a=[200,100,300];"bounceInLeft"!=i.transitionIn&&"bounceInRight"!=i.transitionIn||(a=[400,200,400]),0<i.title.length&&setTimeout(function(){k.strong.classList.add("slideIn")},a[0]),0<i.message.length&&setTimeout(function(){k.p.classList.add("slideIn")},a[1]),(i.icon||i.iconUrl)&&setTimeout(function(){k.icon.classList.add("revealIn")},a[2]);var b=150;0<i.buttons.length&&k.buttons&&setTimeout(function(){q(k.buttons.childNodes,function(a){setTimeout(function(){a.classList.add("revealIn")},b),b+=150})},0<i.inputs.length?150:0),0<i.inputs.length&&k.inputs&&(b=150,q(k.inputs.childNodes,function(a){setTimeout(function(){a.classList.add("revealIn")},b),b+=150}))}}(),i.onOpening.apply(null,[i,k.toast]);try{var n=new CustomEvent("iziToast-opening",{detail:i,bubbles:!0,cancelable:!0});document.dispatchEvent(n)}catch(a){console.warn(a)}setTimeout(function(){k.toast.classList.remove("iziToast-opening"),k.toast.classList.add("iziToast-opened");try{var a=new CustomEvent("iziToast-opened",{detail:i,bubbles:!0,cancelable:!0});document.dispatchEvent(a)}catch(a){console.warn(a)}i.onOpened.apply(null,[i,k.toast])},1e3),i.drag&&(l?(k.toast.addEventListener("touchstart",function(a){h.startMoving(this,c,i,a)},!1),k.toast.addEventListener("touchend",function(a){h.stopMoving(this,a)},!1)):(k.toast.addEventListener("mousedown",function(a){a.preventDefault(),h.startMoving(this,c,i,a)},!1),k.toast.addEventListener("mouseup",function(a){a.preventDefault(),h.stopMoving(this,a)},!1))),i.closeOnEscape&&document.addEventListener("keyup",function(a){a=a||window.event,27==a.keyCode&&c.hide(i,k.toast,"esc")}),i.closeOnClick&&k.toast.addEventListener("click",function(){c.hide(i,k.toast,"toast")}),c.toast=k.toast},d});